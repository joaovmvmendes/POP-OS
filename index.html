<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Fluxo de Abertura de OS — Documentação</title>

  <style>
    :root{
      --bg:#F8FAFC;
      --card:#FFFFFF;
      --text:#111827;
      --muted:#6B7280;
      --border:#E5E7EB;
      --soft:#F9FAFB;

      --ok-bg:#F0FDF4;
      --ok-bd:#A7F3D0;
      --ok-tx:#065F46;

      --warn-bg:#FFFBEB;
      --warn-bd:#FCD34D;
      --warn-tx:#78350F;

      --err-bg:#FEF2F2;
      --err-bd:#FECACA;
      --err-tx:#7F1D1D;

      --shadow: 0 1px 2px rgba(0,0,0,.04);

      /* Altura usada para offset do scroll */
      --topbar-h: 130px;
    }

    *{ box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--text);
      font-family: Arial, Helvetica, sans-serif;
      line-height:1.6;
    }

    /* Evita que o scroll "cole" por baixo da barra fixa */
    [id]{ scroll-margin-top: calc(var(--topbar-h) + 16px); }

    /* ========== TOP NAV FIXA ========== */
    .topnav{
      position:fixed;
      top:0; left:0; right:0;
      z-index:9000;
      background:rgba(248,250,252,.9);
      backdrop-filter: blur(10px);
      border-bottom:1px solid var(--border);
    }
    .topnav-inner{
      max-width:980px;
      margin:0 auto;
      padding:10px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
    }
    .topnav-left{
      display:flex;
      align-items:center;
      gap:10px;
      min-width:0;
    }
    .topnav-title{
      font-size:12px;
      color:#374151;
      font-weight:700;
      white-space:nowrap;
    }
    .topnav-actions{
      display:flex;
      gap:8px;
      align-items:center;
    }
    .topnav-btn{
      appearance:none;
      border:1px solid var(--border);
      background:var(--card);
      border-radius:10px;
      padding:8px 10px;
      font-size:12px;
      cursor:pointer;
      color:#374151;
      box-shadow:var(--shadow);
      user-select:none;
    }
    .topnav-btn:hover{ background:var(--soft); }

    .topnav-links{
      max-width:980px;
      margin:0 auto;
      padding:0 14px 10px;
      display:none;
    }
    .topnav-links.is-open{ display:block; }

    .topnav-links .toc{
      margin-top:0;
    }

    /* No desktop, mostra a barra sempre aberta */
    @media (min-width: 860px){
      :root{ --topbar-h: 92px; }
      .topnav-links{ display:block; }
      .topnav-btn{ display:none; }
      .topnav-inner{ padding-bottom:6px; }
      .topnav-links{ padding-bottom:12px; }
    }

    /* Quando lightbox estiver aberto, não atrapalhar */
    .topnav.is-hidden{ display:none; }

    /* ========== LAYOUT ========== */
    .wrap{
      width:100%;
      padding:28px 14px;
      text-align:center;
      /* reserva espaço da barra fixa */
      padding-top: var(--topbar-h);
    }
    .container{
      max-width:980px;
      margin:0 auto;
      text-align:left;
      margin-top:55px;
    }

    .card{
      background:var(--card);
      border:1px solid var(--border);
      border-radius:12px;
      padding:18px;
      box-shadow:var(--shadow);
    }
    .card + .card{ margin-top:16px; }

    .header{ padding:22px; margin-top:20px; }

    .title{
      font-size:24px;
      font-weight:700;
      margin:0;
    }
    .subtitle{
      margin-top:6px;
      font-size:13px;
      color:var(--muted);
    }

    .badges{
      margin-top:14px;
      display:flex;
      flex-wrap:wrap;
      gap:8px;
    }
    .badge{
      font-size:12px;
      padding:6px 10px;
      border:1px solid var(--border);
      background:var(--soft);
      border-radius:999px;
      color:#374151;
      white-space:nowrap;
    }
    .badge-ok{
      border-color:var(--ok-bd);
      background:var(--ok-bg);
      color:var(--ok-tx);
      font-weight:700;
    }

    .toc{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .toc a{
      text-decoration:none;
      color:#374151;
      border:1px solid var(--border);
      background:var(--soft);
      border-radius:10px;
      padding:8px 10px;
      font-size:12px;
      display:inline-block;
    }
    .toc a:hover{ background:#F3F4F6; }

    .h2{
      font-size:18px;
      font-weight:700;
      margin:0 0 8px 0;
    }
    .h3{
      font-size:14px;
      font-weight:700;
      margin:14px 0 6px;
    }
    .muted{ color:var(--muted); font-size:13px; }

    .note{
      border:1px solid var(--border);
      background:var(--soft);
      border-left:4px solid #D1D5DB;
      border-radius:10px;
      padding:12px;
      font-size:13px;
      color:#374151;
      margin-top:12px;
    }
    .note code{
      font-family: Consolas, Monaco, monospace;
      font-size:12px;
    }

    .callout-warn{
      border:1px solid var(--warn-bd);
      background:var(--warn-bg);
      color:var(--warn-tx);
      border-radius:12px;
      padding:16px;
      margin-top:16px;
    }
    .callout-warn .h2{ color:#92400E; }

    .callout-err{
      border:1px solid var(--err-bd);
      background:var(--err-bg);
      color:var(--err-tx);
      border-radius:12px;
      padding:16px;
      margin-top:16px;
    }
    .callout-err .h2{ color:#991B1B; }

    ul,ol{ margin:8px 0 0; padding-left:18px; }
    li{ margin:4px 0; }

    .step-meta{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .pill{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:var(--soft);
      color:#374151;
    }

    .imgbox{
      margin-top:12px;
      padding:12px;
      border:1px dashed #D1D5DB;
      border-radius:10px;
      background:#fff;
    }
    .imgbox .cap{
      font-size:12px;
      color:var(--muted);
      margin-top:8px;
    }

    /* clickable */
    .imgbox a.zoom{
      display:block;
      text-decoration:none;
      color:inherit;
    }
    .imgbox img{
      width:100%;
      height:auto;
      border:1px solid var(--border);
      border-radius:10px;
      display:block;
      cursor:zoom-in;
    }

    /* Lightbox */
    .lightbox{
      position:fixed;
      inset:0;
      background:rgba(17,24,39,.82);
      display:none;
      align-items:center;
      justify-content:center;
      padding:24px 14px;
      z-index:9999;
    }
    .lightbox.is-open{ display:flex; }

    .lightbox-card{
      width:min(1300px, 96vw);
      max-height:92vh;
      background:#0B1220;
      border:1px solid rgba(229,231,235,.18);
      border-radius:14px;
      overflow:hidden;
      box-shadow:0 18px 60px rgba(0,0,0,.35);
    }
    .lightbox-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:10px 12px;
      background:rgba(255,255,255,.06);
      border-bottom:1px solid rgba(229,231,235,.12);
    }
    .lightbox-title{
      font-size:12px;
      color:#E5E7EB;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
      max-width:60vw;
    }
    .lightbox-actions{
      display:flex;
      gap:8px;
      align-items:center;
      flex-shrink:0;
    }
    .lb-btn{
      appearance:none;
      border:1px solid rgba(229,231,235,.22);
      background:rgba(255,255,255,.08);
      color:#E5E7EB;
      border-radius:10px;
      padding:8px 10px;
      font-size:12px;
      cursor:pointer;
      user-select:none;
    }
    .lb-btn:hover{ background:rgba(255,255,255,.14); }

    .lightbox-body{
      background:#0B1220;
      padding:12px;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      touch-action:none;
    }

    .lb-stage{
      width:100%;
      height:78vh;
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      position:relative;
      cursor:grab;
    }
    .lb-stage.is-dragging{ cursor:grabbing; }

    .lb-img{
      max-width:none;
      max-height:none;
      border-radius:10px;
      border:1px solid rgba(229,231,235,.18);
      display:block;
      transform-origin:center center;
      will-change:transform;
      user-select:none;
      -webkit-user-drag:none;
      cursor:inherit;
    }

    .lightbox-caption{
      padding:10px 12px 12px;
      font-size:12px;
      color:#D1D5DB;
      background:#0B1220;
    }

    .footer{
      margin-top:18px;
      font-size:12px;
      color:var(--muted);
      text-align:left;
    }

    @media (max-width: 520px){
      .lightbox-title{ max-width:44vw; }
      .lb-btn{ padding:8px 8px; }
    }
  </style>
</head>

<body>
  <!-- TOP NAV FIXA -->
  <div class="topnav" id="topnav">
    <div class="topnav-inner">
      <div class="topnav-left">
        <div class="topnav-title">Navegação rápida</div>
      </div>
      <div class="topnav-actions">
        <button class="topnav-btn" type="button" id="navToggle">☰ Navegação</button>
      </div>
    </div>

    <div class="topnav-links" id="navLinks">
      <div class="toc">
        <a href="#top">Topo</a>
        <a href="#visao-geral">Visão geral</a>
        <a href="#etapa-1">Etapa 1</a>
        <a href="#etapa-2">Etapa 2</a>
        <a href="#etapa-3">Etapa 3 (Urgência)</a>
        <a href="#etapa-4">Etapa 4</a>
        <a href="#etapa-5">Etapa 5</a>
        <a href="#etapa-6">Etapa 6</a>
        <a href="#etapa-7">Etapa 7</a>
        <a href="#etapa-8">Etapa 8</a>
        <a href="#etapa-9">Etapa 9</a>
        <a href="#informacoes-gerais">Informações gerais</a>
        <a href="#regras">Regras críticas</a>
      </div>
    </div>
  </div>

  <div class="wrap">
    <div class="container">

      <!-- HEADER -->
      <div class="card header" id="top">
        <h1 class="title">Fluxo de Abertura de Ordem de Serviço (OS)</h1>
        <div class="subtitle">
          Documentação operacional completa do processo de solicitação, avaliação de urgência, briefing, orçamento, aprovação e encerramento.
        </div>

        <div class="badges">
          <span class="badge"><b>Canal:</b> Feed Bitrix24</span>
          <span class="badge"><b>Origem:</b> Fluxos de Trabalho</span>
          <span class="badge"><b>Destino:</b> SPA Única de OS</span>
          <span class="badge"><b>Governança:</b> Processo automatizado</span>
          <span class="badge badge-ok">Ativo</span>
        </div>
      </div>

      <!-- VISÃO GERAL -->
      <div class="card" id="visao-geral">
        <div class="h2">Visão geral do processo</div>
        <div class="muted">
          O fluxo padroniza a abertura e a aprovação de Ordens de Serviço entre unidades de negócio.
          A OS é registrada em uma SPA única, passa por validações (urgência, briefing, orçamento) e só pode ser executada após aprovação final do orçamento.
        </div>

        <div class="h3">Entidades envolvidas e responsabilidades</div>
        <ul>
          <li><b>Solicitante:</b> abre a OS, descreve a demanda e fornece anexos e contexto para execução.</li>
          <li><b>Responsável pelo recebimento de OS (Unidade Prestadora):</b> analisa a solicitação, decide sobre necessidade de briefing, marca reunião, preenche dados para orçamento e gerencia nova proposta/cancelamento quando aplicável.</li>
          <li><b>Aprovador de urgência:</b> Dr. Roberto Régis — avalia se a urgência é necessária (somente quando Tipo de Serviço = Urgente).</li>
          <li><b>Responsável da unidade de negócio solicitante:</b> aprova ou recusa o orçamento (recusa exige justificativa).</li>
        </ul>

        <div class="h3">Regras de navegação do fluxo</div>
        <ul>
          <li>Se <b>Tipo de serviço ≠ Urgente</b>, o fluxo segue diretamente para a <b>verificação de necessidade de briefing</b>.</li>
          <li>Se <b>Tipo de serviço = Urgente</b>, a solicitação passa por <b>avaliação do Dr. Roberto Régis</b> antes de seguir para a Unidade Prestadora.</li>
        </ul>
      </div>

      <!-- ETAPA 1 -->
      <div class="card" id="etapa-1">
        <div class="h2">Etapa 1 — Início da solicitação (Solicitante)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Solicitante</span>
          <span class="pill"><b>Canal:</b> Feed → Fluxos de Trabalho</span>
          <span class="pill"><b>Saída:</b> Fluxo iniciado</span>
        </div>

        <div class="h3">Como prosseguir (passo a passo)</div>
        <ol>
          <li>Acessar o <b>Feed</b></li>
          <li>Clicar em <b>Mais</b></li>
          <li>Clicar em <b>Fluxos de Trabalho</b></li>
          <li>Procurar por <b>“Realizar solicitação de OS”</b></li>
          <li>Clicar em <b>Iniciar</b></li>
        </ol>

        <div class="note">
          Na tela seguinte do fluxo, clique em <b>Próximo</b> para avançar ao formulário de solicitação.
        </div>
      </div>

      <!-- ETAPA 2 -->
      <div class="card" id="etapa-2">
        <div class="h2">Etapa 2 — Preenchimento da solicitação (Solicitante)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Solicitante</span>
          <span class="pill"><b>Entrada:</b> Formulário de OS</span>
          <span class="pill"><b>Saída:</b> Solicitação criada na SPA</span>
        </div>

        <div class="h3">Campos obrigatórios e orientações de preenchimento</div>
        <ul>
          <li><b>Solicitante:</b> Sua unidade de negócio</li>
          <li><b>Tipo de serviço:</b> Programado (Possui um tempo longo até a entrega) ou Urgente (Possui urgencia na entrega)</li>
          <li><b>Expectativa de prazo para entrega:</b> Data em que você espera que seja entregue.</li>
          <li><b>Prestador:</b> Unidade de negócio que prestará esse serviço a você.</li>
          <li><b>Tipo de OS:</b> Interna (Entre unidades de negócio internas), Externa (Quando você está representando um cliente externo).</li>
          <li><b>Cliente Externo:</b> Se a opção anterior for "Externa", deverá incluir o nome do cliente externo que está representando.</li>
          <li><b>Objetivo:</b> Objetivo final da entrega (Ex: Obter um sistema de abertura de OS completo)</li>
          <li><b>Justificativa:</b> Motivo pelo qual precisa do serviço (Ex: Preciso do sistema de OS para sanar a necessidade de negociação de valores de prestação de serviço)</li>
          <li><b>Descrição:</b> Detalhes da necessidade (Ex: Preciso que o sistema possua hierarquia de acessos sendo o usuário Master com permissão total, Admin com permissões x, y e Z etc...)</li>
          <li><b>Anexos:</b> Todo e qualquer arquivo que possa auxiliar a unidade prestadora a concluir esta OS.</li>
        </ul>

        <div class="h3">Como finalizar a criação</div>
        <div class="muted">Após preencher todos os campos, clicar em <b>Iniciar</b>.</div>

        <div class="note">
          <b>Atenção:</b> Máxima atenção ao preenchimento de todos os campos, pois o processo não pode ser pausado, retrocedido ou reiniciado!
        </div>

        <div class="callout-warn" style="margin-top:16px;">
          <div class="h2">Atenção — Condição de urgência</div>
          <div class="muted" style="color:var(--warn-tx);">
            Ao utilizar o "Tipo de Serviço" como Urgênte, a solicitação passará por avaliação de Dr. Roberto Régis para verificação da necessidade de urgência!
            (Após, o mesmo poderá recusar ou aceitar a urgência. Se caso for recusada, o card da SPA irá para a raia de "Ordem de urgência recusada" e o fluxo será encerrado.
            Caso seja aceita o fluxo segue normalmente para o responsável da unidade prestadora)
          </div>
        </div>
      </div>

      <!-- ETAPA 3 (URGÊNCIA) -->
      <div class="callout-warn" id="etapa-3">
        <div class="h2">Etapa 3 — Avaliação de urgência (somente quando Tipo de Serviço = Urgente)</div>

        <div class="step-meta" style="margin-top:10px;">
          <span class="pill"><b>Papel:</b> Aprovador de urgência</span>
          <span class="pill"><b>Responsável:</b> Dr. Roberto Régis</span>
          <span class="pill"><b>Saída:</b> Urgência aprovada ou recusada</span>
        </div>

        <div class="h3">O que acontece</div>
        <div class="muted" style="color:var(--warn-tx);">
          A solicitação é encaminhada ao aprovador de urgência para validação. A decisão determina se o fluxo segue para a Unidade Prestadora ou se é encerrado.
        </div>

        <div class="h3">Decisão e consequência operacional</div>
        <ul>
          <li><b>Se recusada:</b> o card da SPA irá para a raia de <b>"Ordem de urgência recusada"</b> e o fluxo será encerrado.</li>
          <li><b>Se aceita:</b> o fluxo segue normalmente para o responsável da unidade prestadora.</li>
          <li><b>Obrigatório na recusa:</b> preenchimento do motivo no campo <b>"Motivo da recusa da OS"</b>.</li>
        </ul>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 1 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%201.png" data-src="Imagem%201.png"
             data-alt="Imagem 1"
             data-cap="Exemplo de notificação recebida pelo usuário solicitante ao abrir uma OS de urgência:">
            <img src="Imagem%201.png" alt="Imagem 1"
                 onerror="this.onerror=null;this.src='Imagem%201.jpg';this.onerror=function(){this.src='Imagem%201.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação recebida pelo usuário solicitante ao abrir uma OS de urgência:</div>
        </div>

        <!-- Imagem 2 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%202.png" data-src="Imagem%202.png"
             data-alt="Imagem 2"
             data-cap="Exemplo de mensagem recebita pelo usuário solicitante ao abrir uma OS de urgência:">
            <img src="Imagem%202.png" alt="Imagem 2"
                 onerror="this.onerror=null;this.src='Imagem%202.jpg';this.onerror=function(){this.src='Imagem%202.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem recebita pelo usuário solicitante ao abrir uma OS de urgência:</div>
        </div>

        <!-- Imagem 3 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%203.png" data-src="Imagem%203.png"
             data-alt="Imagem 3"
             data-cap="Exemplo de notificação recebida pelo aprovador de urgencia, quando aberta uma OS de urgencia:">
            <img src="Imagem%203.png" alt="Imagem 3"
                 onerror="this.onerror=null;this.src='Imagem%203.jpg';this.onerror=function(){this.src='Imagem%203.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação recebida pelo aprovador de urgencia, quando aberta uma OS de urgencia:</div>
        </div>

        <!-- Imagem 4 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%204.png" data-src="Imagem%204.png"
             data-alt="Imagem 4"
             data-cap="Exemplo de mensagem recebida pelo aprovador de urgencia, quando aberta uma OS de urgencia:">
            <img src="Imagem%204.png" alt="Imagem 4"
                 onerror="this.onerror=null;this.src='Imagem%204.jpg';this.onerror=function(){this.src='Imagem%204.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem recebida pelo aprovador de urgencia, quando aberta uma OS de urgencia:</div>
        </div>

        <!-- Imagem 5 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%205.png" data-src="Imagem%205.png"
             data-alt="Imagem 5"
             data-cap="Exemplo de fluxo de aprovação de emergencia no feed do aprovador de urgencia:">
            <img src="Imagem%205.png" alt="Imagem 5"
                 onerror="this.onerror=null;this.src='Imagem%205.jpg';this.onerror=function(){this.src='Imagem%205.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo de aprovação de emergencia no feed do aprovador de urgencia:</div>
        </div>

        <!-- Imagem 6 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%206.png" data-src="Imagem%206.png"
             data-alt="Imagem 6"
             data-cap="Exemplo de finalização da aprovação ou recusa por parte do usuário aprovador de emergencia (Atencção na recusa!  Ha obrigatoriedade de escrita do motivo da recusa no campo &quot;Motivo da recusa da OS&quot;):">
            <img src="Imagem%206.png" alt="Imagem 6"
                 onerror="this.onerror=null;this.src='Imagem%206.jpg';this.onerror=function(){this.src='Imagem%206.jpeg';}">
          </a>
          <div class="cap">Exemplo de finalização da aprovação ou recusa por parte do usuário aprovador de emergencia (Atencção na recusa!  Ha obrigatoriedade de escrita do motivo da recusa no campo "Motivo da recusa da OS"):</div>
        </div>

        <!-- Imagem 7 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%207.png" data-src="Imagem%207.png"
             data-alt="Imagem 7"
             data-cap="Exemplo de notificação ao solicitante avisando sobre a recusa da OS de emergencia(Atenção a informação de &quot;Anotações:&quot; que contém o motivo da recusa):">
            <img src="Imagem%207.png" alt="Imagem 7"
                 onerror="this.onerror=null;this.src='Imagem%207.jpg';this.onerror=function(){this.src='Imagem%207.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação ao solicitante avisando sobre a recusa da OS de emergencia(Atenção a informação de "Anotações:" que contém o motivo da recusa):</div>
        </div>

        <!-- Imagem 8 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%208.png" data-src="Imagem%208.png"
             data-alt="Imagem 8"
             data-cap="Exemplo de mensagem ao solicitante avisando sobre a recusa da OS de emergencia(Atenção a informação de &quot;Anotações:&quot; que contém o motivo da recusa):">
            <img src="Imagem%208.png" alt="Imagem 8"
                 onerror="this.onerror=null;this.src='Imagem%208.jpg';this.onerror=function(){this.src='Imagem%208.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem ao solicitante avisando sobre a recusa da OS de emergencia(Atenção a informação de "Anotações:" que contém o motivo da recusa):</div>
        </div>
      </div>

      <!-- ETAPA 4 -->
      <div class="card" id="etapa-4">
        <div class="h2">Etapa 4 — Verificação da necessidade de briefing (Responsável pelo recebimento de OS — Unidade Prestadora)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Prestadora</span>
          <span class="pill"><b>Entrada:</b> OS criada (e urgência aprovada, se aplicável)</span>
          <span class="pill"><b>Saída:</b> Definição: precisa ou não precisa briefing</span>
        </div>

        <div class="h3">O que acontece</div>
        <div class="muted">
          Seguindo o fluxo após aprovação de urgência, o solicitante receberá uma mensagem informando que sua OS está passando por uma verificação se há neessidade de uma reunião de briefing para esclareciamento de dúvidas por falta de informações ou qualquer outra situação que possa prejudicar o desenvolvimento do do produto final da OS.
        </div>

        <div class="h3">Regras da decisão</div>
        <ul>
          <li>O responsável da unidade prestadora realiza a decisão: <b>PRECISA DE BRIEFING</b> ou <b>NÃO PRECISA</b>.</li>
          <li>Observação: Ao clciar em <b>"PRECISA DE BRIEFING"</b> é obrigatorio informar o motivo pelo qual precisa, dessa forma o solicitante será informado e poderá se preparar para a reunião.</li>
          <li>Importante ressaltar que nesta etapa, o responsável pela unidade prestadora, deverá contatar o solicitante para realizar a marcação da reunião de briefing detalhado relacionada a OS em questão</li>
        </ul>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 9 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%209.png" data-src="Imagem%209.png" data-alt="Imagem 9"
             data-cap="Exemplo de notificação ao solicitante Avisando sobre a necessidade de Briefing:">
            <img src="Imagem%209.png" alt="Imagem 9"
                 onerror="this.onerror=null;this.src='Imagem%209.jpg';this.onerror=function(){this.src='Imagem%209.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação ao solicitante Avisando sobre a necessidade de Briefing:</div>
        </div>

        <!-- Imagem 10 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2010.png" data-src="Imagem%2010.png" data-alt="Imagem 10"
             data-cap="Exemplo de mensagem ao solicitante Avisando sobre a necessidade de Briefing:">
            <img src="Imagem%2010.png" alt="Imagem 10"
                 onerror="this.onerror=null;this.src='Imagem%2010.jpg';this.onerror=function(){this.src='Imagem%2010.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem ao solicitante Avisando sobre a necessidade de Briefing:</div>
        </div>

        <!-- Imagem 11 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2011.png" data-src="Imagem%2011.png" data-alt="Imagem 11"
             data-cap="Exemplo de notificação ao responsável da unidade para verificação da necessidade de briefing:">
            <img src="Imagem%2011.png" alt="Imagem 11"
                 onerror="this.onerror=null;this.src='Imagem%2011.jpg';this.onerror=function(){this.src='Imagem%2011.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação ao responsável da unidade para verificação da necessidade de briefing:</div>
        </div>

        <!-- Imagem 12 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2012.png" data-src="Imagem%2012.png" data-alt="Imagem 12"
             data-cap="Exemplo de mensagem ao responsável da unidade para verificação da necessidade de briefing:">
            <img src="Imagem%2012.png" alt="Imagem 12"
                 onerror="this.onerror=null;this.src='Imagem%2012.jpg';this.onerror=function(){this.src='Imagem%2012.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem ao responsável da unidade para verificação da necessidade de briefing:</div>
        </div>

        <!-- Imagem 13 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2013.png" data-src="Imagem%2013.png" data-alt="Imagem 13"
             data-cap="Exemplo de fluxo no Feed para verificação da necessidade de briefing:">
            <img src="Imagem%2013.png" alt="Imagem 13"
                 onerror="this.onerror=null;this.src='Imagem%2013.jpg';this.onerror=function(){this.src='Imagem%2013.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo no Feed para verificação da necessidade de briefing:</div>
        </div>

        <!-- Imagem 14 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2014.png" data-src="Imagem%2014.png" data-alt="Imagem 14"
             data-cap="Exemplo da realização da decisão se precisa ou não de briefing(Observação: Ao clciar em &quot;PRECISA DE BRIEFING&quot; é obrigatorio informar o motivo pelo qual precisa, dessa forma o solicitante será informado e poderá se preparar para a reunião).">
            <img src="Imagem%2014.png" alt="Imagem 14"
                 onerror="this.onerror=null;this.src='Imagem%2014.jpg';this.onerror=function(){this.src='Imagem%2014.jpeg';}">
          </a>
          <div class="cap">Exemplo da realização da decisão se precisa ou não de briefing(Observação: Ao clciar em "PRECISA DE BRIEFING" é obrigatorio informar o motivo pelo qual precisa, dessa forma o solicitante será informado e poderá se preparar para a reunião).</div>
        </div>

        <!-- Imagem 15 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2015.png" data-src="Imagem%2015.png" data-alt="Imagem 15"
             data-cap="Exemplo de notificação ao solicitante caso exista a necessidade de briefing:">
            <img src="Imagem%2015.png" alt="Imagem 15"
                 onerror="this.onerror=null;this.src='Imagem%2015.jpg';this.onerror=function(){this.src='Imagem%2015.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação ao solicitante caso exista a necessidade de briefing:</div>
        </div>

        <!-- Imagem 16 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2016.png" data-src="Imagem%2016.png" data-alt="Imagem 16"
             data-cap="Exemplo de mensagem ao solicitante caso exista a necessidade de briefing:">
            <img src="Imagem%2016.png" alt="Imagem 16"
                 onerror="this.onerror=null;this.src='Imagem%2016.jpg';this.onerror=function(){this.src='Imagem%2016.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem ao solicitante caso exista a necessidade de briefing:</div>
        </div>
      </div>

      <!-- ETAPA 5 -->
      <div class="card" id="etapa-5">
        <div class="h2">Etapa 5 — Marcação da reunião de briefing (Unidade Prestadora)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Prestadora</span>
          <span class="pill"><b>Ação:</b> Marcar reunião no fluxo</span>
          <span class="pill"><b>Saída:</b> Reunião criada e solicitante notificado</span>
        </div>

        <div class="h3">O que acontece</div>
        <div class="muted">
          Após o clique em "PRECISA DE BRIEFING" a tela será atualizada para conter a pedida de dados para a reunião que será marcada e o fluxo irá se manter no feed para ser dada continuidade por parte do responsável da unidade prestadora.
        </div>

        <div class="h3">Preenchimento obrigatório nesta etapa</div>
        <ul>
          <li>Data e hora do início da reunião</li>
          <li>Data e hora de termino da reunião</li>
          <li>Participantes</li>
          <li>Local da reunião</li>
        </ul>

        <div class="note">
          (Atenção ao local da reunião pois não está sincronizado com os locais utilizados comumente por todos, sendo assim, somente após marcar a reunião, poderá selecionar no calendário a reserva de uma sala. Ou seja o campo é meramente ilustrativo, recomendamos escrever sempre "Online" ou "Presencial" e posterior a marcação, realizar manualmente a reserva da sala)
        </div>

        <div class="muted" style="margin-top:10px;">Após isso, clicar em <b>"MARCAR REUNIÃO"</b></div>

        <div class="note">
          Após a tela irá atualizar, mas nesse momento você não terá ainda as informações para serem inseridas, sendo assim, pode fechar o fluxo até que as consiga.
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 17 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2017.png" data-src="Imagem%2017.png" data-alt="Imagem 17"
             data-cap="Exemplo de fluxo ainda no feed:">
            <img src="Imagem%2017.png" alt="Imagem 17"
                 onerror="this.onerror=null;this.src='Imagem%2017.jpg';this.onerror=function(){this.src='Imagem%2017.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo ainda no feed:</div>
        </div>

        <!-- Imagem 18 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2018.png" data-src="Imagem%2018.png" data-alt="Imagem 18"
             data-cap="Exemplo de tela do fluco atualizada para conter informações da reunião que será marcada:">
            <img src="Imagem%2018.png" alt="Imagem 18"
                 onerror="this.onerror=null;this.src='Imagem%2018.jpg';this.onerror=function(){this.src='Imagem%2018.jpeg';}">
          </a>
          <div class="cap">Exemplo de tela do fluco atualizada para conter informações da reunião que será marcada:</div>
        </div>

        <!-- Imagem 19 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2019.png" data-src="Imagem%2019.png" data-alt="Imagem 19"
             data-cap="Exemplo de notificação enviada ao solicitante a respeito da marcação da reunião e contendo seus dados:">
            <img src="Imagem%2019.png" alt="Imagem 19"
                 onerror="this.onerror=null;this.src='Imagem%2019.jpg';this.onerror=function(){this.src='Imagem%2019.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação enviada ao solicitante a respeito da marcação da reunião e contendo seus dados:</div>
        </div>

        <!-- Imagem 20 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2020.png" data-src="Imagem%2020.png" data-alt="Imagem 20"
             data-cap="Exemplo de mensagem enviada ao solicitante a respeito da marcação da reunião e contendo seus dados:">
            <img src="Imagem%2020.png" alt="Imagem 20"
                 onerror="this.onerror=null;this.src='Imagem%2020.jpg';this.onerror=function(){this.src='Imagem%2020.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem enviada ao solicitante a respeito da marcação da reunião e contendo seus dados:</div>
        </div>

        <!-- Imagem 21 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2021.png" data-src="Imagem%2021.png" data-alt="Imagem 21"
             data-cap="Exemplo de reunião criada para tratar do briefing da OS em questão:">
            <img src="Imagem%2021.png" alt="Imagem 21"
                 onerror="this.onerror=null;this.src='Imagem%2021.jpg';this.onerror=function(){this.src='Imagem%2021.jpeg';}">
          </a>
          <div class="cap">Exemplo de reunião criada para tratar do briefing da OS em questão:</div>
        </div>
      </div>

      <!-- ETAPA 6 -->
      <div class="card" id="etapa-6">
        <div class="h2">Etapa 6 — Preenchimento das informações para orçamento (Unidade Prestadora)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Prestadora</span>
          <span class="pill"><b>Entrada:</b> Briefing realizado</span>
          <span class="pill"><b>Saída:</b> Orçamento gerado e enviado</span>
        </div>

        <div class="h3">O que acontece</div>
        <div class="muted">
          Agora voltando a atualização da tela, onde pedirá informações que você só terá após a reunião, junto, o responsável da unidade receberá notificação e mensagem, informando que para confecção do orçamento, precisa preencher algumas informações.
        </div>

        <div class="h3">Critérios de preenchimento (campos)</div>
        <ul>
          <li>Informar quem será/ão o/os executor/es da OS</li>
          <li>Informar a data de conclusão (prazo realista: data e hora)</li>
          <li>Se houver lista de produtos mapeada e for apenas 1 produto: selecione o produto</li>
          <li>Se precisar de mais de 1 produto: deixar o campo de produto em branco e informar em "Produto personalizado" a lista de produtos</li>
          <li>No campo valor: informar o valor total(final) da OS</li>
          <li>Em detalhes dos entregáveis: detalhamento do serviço/produtos, quantidades e descritivo dos valores envolvidos</li>
        </ul>

        <div class="note">
          Ao clicar em <b>"Atribuir detalhes"</b> a ferramenta irá gerar o orçamento e enviar para o responsável pela unidade de negócio solicitante para que seja aprovado ou recusado o orçamento.
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 22 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2022.png" data-src="Imagem%2022.png" data-alt="Imagem 22"
             data-cap="Exemplo de notificação ao responsável da unidade prestadora para inserção das informações referentes ao orçamento no fluxo:">
            <img src="Imagem%2022.png" alt="Imagem 22"
                 onerror="this.onerror=null;this.src='Imagem%2022.jpg';this.onerror=function(){this.src='Imagem%2022.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação ao responsável da unidade prestadora para inserção das informações referentes ao orçamento no fluxo:</div>
        </div>

        <!-- Imagem 23 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2023.png" data-src="Imagem%2023.png" data-alt="Imagem 23"
             data-cap="Exemplo de mensagem ao responsável da unidade prestadora para inserção das informações referentes ao orçamento no fluxo:">
            <img src="Imagem%2023.png" alt="Imagem 23"
                 onerror="this.onerror=null;this.src='Imagem%2023.jpg';this.onerror=function(){this.src='Imagem%2023.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem ao responsável da unidade prestadora para inserção das informações referentes ao orçamento no fluxo:</div>
        </div>

        <!-- Imagem 24 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2024.png" data-src="Imagem%2024.png" data-alt="Imagem 24"
             data-cap="Exemplo de fluxo no feed para preenchimento das informações referentes ao orçamento que será gerado:">
            <img src="Imagem%2024.png" alt="Imagem 24"
                 onerror="this.onerror=null;this.src='Imagem%2024.jpg';this.onerror=function(){this.src='Imagem%2024.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo no feed para preenchimento das informações referentes ao orçamento que será gerado:</div>
        </div>

        <!-- Imagem 25 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2025.png" data-src="Imagem%2025.png" data-alt="Imagem 25"
             data-cap="Exemplo da tela aberta do fluxo no feed para preenchimento das informações referentes ao orçamento que será gerado:">
            <img src="Imagem%2025.png" alt="Imagem 25"
                 onerror="this.onerror=null;this.src='Imagem%2025.jpg';this.onerror=function(){this.src='Imagem%2025.jpeg';}">
          </a>
          <div class="cap">Exemplo da tela aberta do fluxo no feed para preenchimento das informações referentes ao orçamento que será gerado:</div>
        </div>
      </div>

      <!-- ETAPA 7 -->
      <div class="card" id="etapa-7">
        <div class="h2">Etapa 7 — Aprovação ou recusa do orçamento (Responsável da unidade solicitante)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Solicitante (responsável)</span>
          <span class="pill"><b>Ação:</b> Aprovar ou recusar orçamento</span>
          <span class="pill"><b>Saída:</b> Orçamento aprovado ou recusado</span>
        </div>

        <div class="h3">Regra crítica</div>
        <div class="note">
          Atenção a obrigatoriedade de preenchimento do campo <b>"Por qual motivo está recusando?"</b> caso seja necessário realizar uma recusa!
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 26 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2026.png" data-src="Imagem%2026.png" data-alt="Imagem 26"
             data-cap="Exemplo de notificação enviada ao responsável pela unidade de negócio solicitante para aprovação do orçamento:">
            <img src="Imagem%2026.png" alt="Imagem 26"
                 onerror="this.onerror=null;this.src='Imagem%2026.jpg';this.onerror=function(){this.src='Imagem%2026.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação enviada ao responsável pela unidade de negócio solicitante para aprovação do orçamento:</div>
        </div>

        <!-- Imagem 27 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2027.png" data-src="Imagem%2027.png" data-alt="Imagem 27"
             data-cap="Exemplo de mensagem enviada ao responsável pela unidade de negócio solicitante para aprovação do orçamento:">
            <img src="Imagem%2027.png" alt="Imagem 27"
                 onerror="this.onerror=null;this.src='Imagem%2027.jpg';this.onerror=function(){this.src='Imagem%2027.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem enviada ao responsável pela unidade de negócio solicitante para aprovação do orçamento:</div>
        </div>

        <!-- Imagem 28 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2028.png" data-src="Imagem%2028.png" data-alt="Imagem 28"
             data-cap="Exemplo de fluxo no feed para aprovação ou recusa de orçamento por parte do responsável da unidade de negócio solicitante:">
            <img src="Imagem%2028.png" alt="Imagem 28"
                 onerror="this.onerror=null;this.src='Imagem%2028.jpg';this.onerror=function(){this.src='Imagem%2028.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo no feed para aprovação ou recusa de orçamento por parte do responsável da unidade de negócio solicitante:</div>
        </div>

        <!-- Imagem 29 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2029.png" data-src="Imagem%2029.png" data-alt="Imagem 29"
             data-cap="Exemplo de tela para aprovação ou recusa do orçamento por parte do responsável da unidade de negócio solicitante:">
            <img src="Imagem%2029.png" alt="Imagem 29"
                 onerror="this.onerror=null;this.src='Imagem%2029.jpg';this.onerror=function(){this.src='Imagem%2029.jpeg';}">
          </a>
          <div class="cap">Exemplo de tela para aprovação ou recusa do orçamento por parte do responsável da unidade de negócio solicitante:</div>
        </div>
      </div>

      <!-- ETAPA 8 -->
      <div class="card" id="etapa-8">
        <div class="h2">Etapa 8 — Recusa do orçamento: nova proposta ou cancelamento (Unidade Prestadora)</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Prestadora</span>
          <span class="pill"><b>Entrada:</b> Orçamento recusado</span>
          <span class="pill"><b>Saídas possíveis:</b> Nova proposta enviada ou negociação cancelada</span>
        </div>

        <div class="h3">Regra crítica da nova proposta</div>
        <div class="note">
          Nesta etapa, caso deseje enviar uma nova proposta, atenção ao campo <b>"Explique quais foram as mudanças na sua proposta!"</b> que é obrigatório ser preenchido ao enviar uma nova proposta.
        </div>

        <div class="muted">
          Ao prosseguir com o envio de uma nova proposta, o sistema irá reprocessar o orçamento e retornará ao envio de mensagens de aprovação assim como fluxo de aprovação.
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 30 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2030.png" data-src="Imagem%2030.png" data-alt="Imagem 30"
             data-cap="Exemplo de notificação de recusa para o responsável da unidade de negócio prestadora:">
            <img src="Imagem%2030.png" alt="Imagem 30"
                 onerror="this.onerror=null;this.src='Imagem%2030.jpg';this.onerror=function(){this.src='Imagem%2030.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação de recusa para o responsável da unidade de negócio prestadora:</div>
        </div>

        <!-- Imagem 31 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2031.png" data-src="Imagem%2031.png" data-alt="Imagem 31"
             data-cap="Exemplo de mensagem de recusa para o responsável da unidade de negócio prestadora:">
            <img src="Imagem%2031.png" alt="Imagem 31"
                 onerror="this.onerror=null;this.src='Imagem%2031.jpg';this.onerror=function(){this.src='Imagem%2031.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem de recusa para o responsável da unidade de negócio prestadora:</div>
        </div>

        <!-- Imagem 32 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2032.png" data-src="Imagem%2032.png" data-alt="Imagem 32"
             data-cap="Exemplo de fluxo via feed para realizar o envio de uma nova proposta de orçamento:">
            <img src="Imagem%2032.png" alt="Imagem 32"
                 onerror="this.onerror=null;this.src='Imagem%2032.jpg';this.onerror=function(){this.src='Imagem%2032.jpeg';}">
          </a>
          <div class="cap">Exemplo de fluxo via feed para realizar o envio de uma nova proposta de orçamento:</div>
        </div>

        <!-- Imagem 33 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2033.png" data-src="Imagem%2033.png" data-alt="Imagem 33"
             data-cap="Exemplo de tela para introdução/mudança de informações de proposta para envio de novo orçamento:">
            <img src="Imagem%2033.png" alt="Imagem 33"
                 onerror="this.onerror=null;this.src='Imagem%2033.jpg';this.onerror=function(){this.src='Imagem%2033.jpeg';}">
          </a>
          <div class="cap">Exemplo de tela para introdução/mudança de informações de proposta para envio de novo orçamento:</div>
        </div>

        <!-- Imagem 34 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2034.png" data-src="Imagem%2034.png" data-alt="Imagem 34"
             data-cap="Exemplo de orçamento gerado:">
            <img src="Imagem%2034.png" alt="Imagem 34"
                 onerror="this.onerror=null;this.src='Imagem%2034.jpg';this.onerror=function(){this.src='Imagem%2034.jpeg';}">
          </a>
          <div class="cap">Exemplo de orçamento gerado:</div>
        </div>
      </div>

      <!-- ETAPA 9 -->
      <div class="card" id="etapa-9">
        <div class="h2">Etapa 9 — Aprovação final e autorização de execução</div>
        <div class="step-meta">
          <span class="pill"><b>Papel:</b> Unidade Solicitante (responsável) / Unidade Prestadora</span>
          <span class="pill"><b>Marco:</b> Orçamento aprovado</span>
          <span class="pill"><b>Saída:</b> Execução autorizada</span>
        </div>

        <div class="muted">
          Caso a OS seja aprovada pelo responsável da unidade de negócio solicitante o responsável pela unidade prestadora receberá uma mensagem/notificação avisando da aprovação.
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 35 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2035.png" data-src="Imagem%2035.png" data-alt="Imagem 35"
             data-cap="Exemplo de notificação de aviso da aprovação ao responsável pela unidade prestadora:">
            <img src="Imagem%2035.png" alt="Imagem 35"
                 onerror="this.onerror=null;this.src='Imagem%2035.jpg';this.onerror=function(){this.src='Imagem%2035.jpeg';}">
          </a>
          <div class="cap">Exemplo de notificação de aviso da aprovação ao responsável pela unidade prestadora:</div>
        </div>

        <!-- Imagem 36 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2036.png" data-src="Imagem%2036.png" data-alt="Imagem 36"
             data-cap="Exemplo de mensagem de aviso da aprovação ao responsável pela unidade prestadora:">
            <img src="Imagem%2036.png" alt="Imagem 36"
                 onerror="this.onerror=null;this.src='Imagem%2036.jpg';this.onerror=function(){this.src='Imagem%2036.jpeg';}">
          </a>
          <div class="cap">Exemplo de mensagem de aviso da aprovação ao responsável pela unidade prestadora:</div>
        </div>
      </div>

      <!-- INFORMAÇÕES GERAIS -->
      <div class="card" id="informacoes-gerais">
        <div class="h2">Informações gerais do fluxo</div>

        <div class="h3">Padrão do título da OS (marcadores)</div>
        <div class="muted">
          O título da OS, agora conta com marcadores para melhor procura/organização:
          Utilizando o exemplo: <b>OSUE200126BTQ649CAG</b>
        </div>

        <div class="note" style="font-family:Consolas, Monaco, monospace;">
          OS: Ordem de Serviço<br>
          U: Tipo de serviço - Urgênte<br>
          E: Tipo de OS - Externa<br>
          200126: Data de abertura - 20/01/2026<br>
          BTQ: Unidade solicitante - Boutique<br>
          649: Id da SPA - 649<br>
          CAG: Unidade prestadora - Comuniq AG
        </div>

        <div class="muted" style="margin-top:10px;">
          Teremos apenas uma SPA que unirá todas as OS, sendo possível realizar um filtro por parte dos usuários selecionados para visualização geral e visualização dos itens específicos de cada unidade.
          Nos dados da SPA, teremos todos os dados, assim como nos fluxos de aprovação.
          Atenção a campos como Dados da OS e comentários no feed do card, estes, foram criados para facilitar a leitura dos campos de Objetivo, Justificativa e Descrição.
        </div>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 37 -->
        <div class="imgbox">
          <a class="zoom" href="Imagem%2037.png" data-src="Imagem%2037.png" data-alt="Imagem 37"
             data-cap="Exemplo de card após criação:">
            <img src="Imagem%2037.png" alt="Imagem 37"
                 onerror="this.onerror=null;this.src='Imagem%2037.jpg';this.onerror=function(){this.src='Imagem%2037.jpeg';}">
          </a>
          <div class="cap">Exemplo de card após criação:</div>
        </div>
      </div>

      <!-- REGRAS CRÍTICAS -->
      <div class="callout-err" id="regras">
        <div class="h2">Regras críticas e governança do processo</div>
        <ul>
          <li>Atenção ao fluxo completo, ele só termina após o orçamento obter uma aprovação por parte do responsável da unidade prestadora ou um cancelamento da negociação por parte do responsável pela unidade prestadora.</li>
          <li>Cada etapa acontece de forma automática, sendo terminantemente proibído realizar ações de movimentação de card manual na SPA antes da chegada a etapa de "Orçamento aprovado".</li>
          <li>Atenção ao fluxo, a execução da OS, bem como a criação de uma tarefa, só deve ser feita após a obtenção da aprovação do orçamento final.</li>
          <li>Máxima atenção ao preenchimento de todos os campos, pois o processo não pode ser pausado, retrocedido ou reiniciado!</li>
          <li>Atenção aos pontos de decisão (Fluxos de feed que dependem de ações dos responsáveis das unidades), estes, só aguardam por 7 dias uma ação, caso não seja realizada nenhuma ação, o fluxo seguirá em frente com a negativa do processo por falta de interação.</li>
          <li>Atenção: caso perca o rastreio do processo no feed, há a possibilidade de filtrar pelo título da OS e verificar se há algum ponto de decisão aguardando sua ação no feed:</li>
        </ul>

        <div class="h3">Evidências (exemplos)</div>

        <!-- Imagem 38 -->
        <div class="imgbox" style="border-color:#FCA5A5;background:#fff;">
          <a class="zoom" href="Imagem%2038.png" data-src="Imagem%2038.png" data-alt="Imagem 38"
             data-cap="Exemplo de filtro no feed:">
            <img src="Imagem%2038.png" alt="Imagem 38"
                 onerror="this.onerror=null;this.src='Imagem%2038.jpg';this.onerror=function(){this.src='Imagem%2038.jpeg';}">
          </a>
          <div class="cap">Exemplo de filtro no feed:</div>
        </div>
      </div>

      <div class="footer">
        © Documentação interna • <a href="#top" style="color:#374151;">Voltar ao topo</a>
      </div>

    </div>
  </div>

  <!-- LIGHTBOX -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-card" role="dialog" aria-modal="true" aria-label="Visualização de imagem ampliada">
      <div class="lightbox-top">
        <div class="lightbox-title" id="lbTitle">Imagem</div>
        <div class="lightbox-actions">
          <button class="lb-btn" type="button" id="lbPrev" title="Anterior (←)">←</button>
          <button class="lb-btn" type="button" id="lbZoomOut" title="Diminuir (-)">−</button>
          <button class="lb-btn" type="button" id="lbZoomReset" title="Ajustar (0)">Ajustar</button>
          <button class="lb-btn" type="button" id="lbZoomIn" title="Aumentar (+)">+</button>
          <button class="lb-btn" type="button" id="lbNext" title="Próxima (→)">→</button>
          <button class="lb-btn" type="button" id="lbClose" title="Fechar (Esc)">Fechar</button>
        </div>
      </div>

      <div class="lightbox-body">
        <div class="lb-stage" id="lbStage">
          <img class="lb-img" id="lbImg" alt="">
        </div>
      </div>

      <div class="lightbox-caption" id="lbCaption"></div>
    </div>
  </div>

  <script>
  (function () {
    const topnav = document.getElementById('topnav');
    const navToggle = document.getElementById('navToggle');
    const navLinks = document.getElementById('navLinks');

    // Toggle menu (mobile)
    if (navToggle) {
      navToggle.addEventListener('click', () => {
        navLinks.classList.toggle('is-open');
      });
    }

    // Auto-close menu on link click (mobile)
    document.querySelectorAll('.topnav a[href^="#"]').forEach(a => {
      a.addEventListener('click', () => {
        if (window.matchMedia('(max-width: 859px)').matches) {
          navLinks.classList.remove('is-open');
        }
      });
    });

    // LIGHTBOX
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbTitle = document.getElementById('lbTitle');
    const lbCaption = document.getElementById('lbCaption');
    const lbClose = document.getElementById('lbClose');
    const lbZoomIn = document.getElementById('lbZoomIn');
    const lbZoomOut = document.getElementById('lbZoomOut');
    const lbZoomReset = document.getElementById('lbZoomReset');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');
    const lbStage = document.getElementById('lbStage');

    const zoomLinks = Array.from(document.querySelectorAll('a.zoom'));
    let currentIndex = -1;

    // Transform state
    let scale = 1;
    let tx = 0;
    let ty = 0;

    // Fit / bounds
    let minScale = 1;          // escala mínima (FIT/CONTAIN) calculada por imagem
    const maxScale = 6;        // limite máximo (ajuste se quiser)
    const ZOOM_STEP = 0.25;

    // Drag state
    let isDragging = false;
    let startX = 0;
    let startY = 0;
    let startTx = 0;
    let startTy = 0;

    function clamp(v, min, max) {
      return Math.max(min, Math.min(max, v));
    }

    function stageRect() {
      return lbStage.getBoundingClientRect();
    }

    function imageNaturalSize() {
      // naturalWidth/Height só existem depois que a imagem carrega
      return { w: lbImg.naturalWidth || 1, h: lbImg.naturalHeight || 1 };
    }

    function computeMinScale() {
      const r = stageRect();
      const img = imageNaturalSize();

      // "contain": cabe inteiro no stage
      const fit = Math.min(r.width / img.w, r.height / img.h);

      // nunca maior que 1 (não ampliamos automaticamente imagens pequenas)
      return Math.min(1, fit);
    }

    function clampPan() {
      const r = stageRect();
      const img = imageNaturalSize();

      const sw = img.w * scale;
      const sh = img.h * scale;

      // Se a imagem couber inteira, centraliza (não deixa pan)
      if (sw <= r.width) tx = 0;
      else {
        const maxX = (sw - r.width) / 2;
        tx = clamp(tx, -maxX, maxX);
      }

      if (sh <= r.height) ty = 0;
      else {
        const maxY = (sh - r.height) / 2;
        ty = clamp(ty, -maxY, maxY);
      }
    }

    function applyTransform() {
      clampPan();
      lbImg.style.transform = `translate(${tx}px, ${ty}px) scale(${scale})`;
    }

    function resetTransformToFit() {
      minScale = computeMinScale();
      scale = minScale;
      tx = 0;
      ty = 0;
      applyTransform();
    }

    function setImageWithFallback(src) {
      lbImg.onerror = null;

      // carrega com fallback de extensão
      const trySet = (nextSrc, fallbackList) => {
        lbImg.src = nextSrc;
        lbImg.onerror = function () {
          lbImg.onerror = null;
          if (fallbackList.length === 0) return;
          const nxt = fallbackList.shift();
          trySet(nxt, fallbackList);
        };
      };

      const lower = (src || '').toLowerCase();
      if (lower.endsWith('.png')) {
        trySet(src, [src.replace(/\.png$/i, '.jpg'), src.replace(/\.png$/i, '.jpeg')]);
      } else if (lower.endsWith('.jpg')) {
        trySet(src, [src.replace(/\.jpg$/i, '.jpeg')]);
      } else {
        trySet(src, []);
      }

      // quando carregar, calcula fit e aplica
      lbImg.onload = function () {
        lbImg.onload = null;
        // Recalcula minScale com base no stage atual e na imagem real
        resetTransformToFit();
      };
    }

    function openAt(index) {
      if (index < 0 || index >= zoomLinks.length) return;
      currentIndex = index;

      const a = zoomLinks[index];
      const src = a.getAttribute('data-src') || a.getAttribute('href') || '';
      const alt = a.getAttribute('data-alt') || '';
      const cap = a.getAttribute('data-cap') || '';

      lbTitle.textContent = alt || 'Imagem';
      lbCaption.textContent = cap || '';
      lbImg.alt = alt || '';

      lightbox.classList.add('is-open');
      lightbox.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';

      // esconder topnav para não atrapalhar
      if (topnav) topnav.classList.add('is-hidden');

      // inicializa com um estado neutro, e ao carregar vai "fit"
      scale = 1;
      tx = 0;
      ty = 0;
      lbImg.style.transform = 'translate(0px, 0px) scale(1)';

      setImageWithFallback(src);
    }

    function close() {
      lightbox.classList.remove('is-open');
      lightbox.setAttribute('aria-hidden', 'true');
      document.body.style.overflow = '';

      isDragging = false;
      lbStage.classList.remove('is-dragging');

      // voltar topnav
      if (topnav) topnav.classList.remove('is-hidden');
    }

    function setScale(next) {
      // clamp entre minScale (fit) e maxScale
      scale = clamp(next, minScale, maxScale);
      applyTransform();
    }

    function zoomStep(delta) {
      setScale(scale + delta);
    }

    function zoomBy(factor) {
      setScale(scale * factor);
    }

    function prev() { openAt((currentIndex - 1 + zoomLinks.length) % zoomLinks.length); }
    function next() { openAt((currentIndex + 1) % zoomLinks.length); }

    // Thumbnail click
    zoomLinks.forEach((a, i) => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        e.stopPropagation();
        openAt(i);
      });
    });

    // Close when clicking overlay background
    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) close();
    });

    lbClose.addEventListener('click', close);
    lbPrev.addEventListener('click', prev);
    lbNext.addEventListener('click', next);

    lbZoomIn.addEventListener('click', () => zoomStep(ZOOM_STEP));
    lbZoomOut.addEventListener('click', () => zoomStep(-ZOOM_STEP));
    lbZoomReset.addEventListener('click', resetTransformToFit);

    // Keyboard
    window.addEventListener('keydown', (e) => {
      if (!lightbox.classList.contains('is-open')) return;

      if (e.key === 'Escape') close();
      if (e.key === 'ArrowLeft') prev();
      if (e.key === 'ArrowRight') next();
      if (e.key === '+' || e.key === '=') zoomStep(ZOOM_STEP);
      if (e.key === '-') zoomStep(-ZOOM_STEP);
      if (e.key === '0') resetTransformToFit();
    });

    // Wheel zoom
    lbStage.addEventListener('wheel', (e) => {
      if (!lightbox.classList.contains('is-open')) return;
      e.preventDefault();
      const factor = e.deltaY < 0 ? 1.08 : 0.92;
      zoomBy(factor);
    }, { passive: false });

    // Drag to pan (only when zoomed in beyond FIT)
    function onPointerDown(e) {
      if (!lightbox.classList.contains('is-open')) return;
      if (scale <= minScale + 0.0001) return;

      isDragging = true;
      lbStage.classList.add('is-dragging');

      startX = e.clientX;
      startY = e.clientY;
      startTx = tx;
      startTy = ty;

      lbStage.setPointerCapture(e.pointerId);
    }

    function onPointerMove(e) {
      if (!isDragging) return;

      const dx = e.clientX - startX;
      const dy = e.clientY - startY;

      tx = startTx + dx;
      ty = startTy + dy;
      applyTransform();
    }

    function onPointerUp(e) {
      if (!isDragging) return;
      isDragging = false;
      lbStage.classList.remove('is-dragging');
      try { lbStage.releasePointerCapture(e.pointerId); } catch (_) {}
    }

    lbStage.addEventListener('pointerdown', onPointerDown);
    lbStage.addEventListener('pointermove', onPointerMove);
    lbStage.addEventListener('pointerup', onPointerUp);
    lbStage.addEventListener('pointercancel', onPointerUp);

    // Double click: alterna entre FIT e um zoom confortável (2x FIT, clamp no max)
    lbStage.addEventListener('dblclick', () => {
      if (!lightbox.classList.contains('is-open')) return;
      const target = (Math.abs(scale - minScale) < 0.01) ? (minScale * 2) : minScale;
      setScale(target);
    });

    // Refit quando redimensionar (evita abrir bugado ao mudar janela/zoom do navegador)
    window.addEventListener('resize', () => {
      if (!lightbox.classList.contains('is-open')) return;
      // Mantém proporção: recalcula minScale e garante que scale não fique abaixo
      minScale = computeMinScale();
      scale = Math.max(scale, minScale);
      applyTransform();
    });
  })();
</script>
</body>
</html>
